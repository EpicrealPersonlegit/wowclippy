local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")


local function getChatcontGui()
    return playerGui:FindFirstChild("chatcont")
end


local chatToggleIcon = Icon.new()
    :setName("Chat")
	:setImage(16884178261, "Deselected")
	:setImage(16086868447, "Selected")
    :setLabel("Chat")
    :bindEvent("selected", function()
        local chatcontGui = getChatcontGui()
        if chatcontGui then
            chatcontGui.Enabled = not chatcontGui.Enabled
        end
    end)


playerGui.ChildAdded:Connect(function(child)
    if child.Name == "Chatcont" then
        child.Enabled = false
    end
end)


local existingChatcont = getChatcontGui()
if existingChatcont then
    existingChatcont.Enabled = false
end

-- Wait a moment and then enable chat if it exists
task.wait(1)
local chatcontGui = getChatcontGui()
if chatcontGui then
    chatcontGui.Enabled = true
end